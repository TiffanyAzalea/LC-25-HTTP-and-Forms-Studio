<!doctype html>

<head>
	<meta charset="utf-8">
		<link href=".style.css" type="text/css" rel="stylesheet"/>
	<script>

	let actions = {
   		"google": "https://www.google.com/search",
		"duckDuckGo": "https://duckduckgo.com/",
		"bing": "https://www.bing.com/search",
		"ask": "https://www.ask.com/web"
	};
		// TODO: create a handler
	function setSearchEngine() {
		//console.log("I clicked the button!");
		const buttonSelected = document.querySelector('input[name=engine]:checked');
		const form = document.getElementById("searchForm");
		const query = document.getElementById("q");

		//Bonnus Mission Part 1
		if (query.value.trim() === "") {
			window.alert("Oops! You didn't enter anything to search for.");
			event.preventDefault();
		} else if (!buttonSelected) {
			window.alert("Oops! Which search engine do you want to use?");
			event.preventDefault();
		}


		//Bonus Part 1 2nd option
		// const errorBox = document.getElementById("error-box");
		// const errorMsg = document.getElementById("error-msg");
		// if (query.value.trim() === "") {
		// 	errorMsg.innerHTML= "Oops! You didn't enter anything to search for.";
		// 	event.preventDefault();
		// } else if (!buttonSelected) {
		// 	errorMsg.innerHTML= "Oops! Which search engine do you want to use?";
		// 	event.preventDefault();
		// }


		let url =actions[buttonSelected.value];
		form.action = url;
	}

    window.addEventListener("load", function(){
        // TODO: register the handler
		const form = document.getElementById("searchForm");
		form.addEventListener("submit", setSearchEngine);
    });
	</script>
</head>

<body>
	<h1>Needles from Haystacks</h1>
	<div id="search-bar">
		<p id ="search-header">Search anywhere and everywhere!</p>
		<form id="searchForm" target="_blank">
		<!-- TODO: add form elements -->
			<input type="text" id="q" name="q" />
			<label><input type="radio" name="engine" value="google" />Google</label>
			<label><input type="radio" name="engine" value="duckDuckGo" />DuckDuckGo</label>
			<label><input type="radio" name="engine" value="bing" />Bing</label>
			<label><input type="radio" name="engine" value="ask" />Ask</label>
			<button id="submit" value="Go!">Go!</button>
		</form>
	</div>


<!-- Bonus Mission Prt 1 Option 2-->
<!-- <div id="error-box">
	<p id="error-msg"></p>
</div> -->


</body>